<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- ==========================================================  -->
<!-- Configuration for MyBatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>iwallet-dalgen</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>iwallet</tt> project.     -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>iwallet-dalgen</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- @author zhyang                                                                -->
<!-- ============================================================================= -->

<!-- ==========================================================  -->
<!-- 为这个mapper指定一个唯一的namespace，namespace的值习惯上设置成包名+sql映射文件名，这样就能够保证namespace的值是唯一的 -->
<!-- 例如namespace="com.jvv.gateway.dal.mapper.TelephoneBillPrepaidMapper"就是com.jvv.gateway.dal.mapper(包名)+ TelephoneBillPrepaidMapper( TelephoneBillPrepaidMapperMapper.xml文件去除-mapping.xml) -->
<!-- ==========================================================  -->
<mapper namespace="com.jvv.gateway.dal.mapper.TelephoneBillPrepaidMapper">
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->
    <!-- result maps for database table telephone_bill_prepaid -->
    <resultMap id="telephoneBillPrepaidDO" type="com.jvv.gateway.dal.entity.TelephoneBillPrepaidDO">
        <id  property="id" column="id" javaType="java.lang.Long" jdbcType="INTEGER"/>
        <result  property="orderNo" column="order_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result  property="channelApi" column="channel_api" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result  property="phoneNo" column="phone_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result  property="currency" column="currency" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result  property="amount" column="amount" javaType="java.lang.Long" jdbcType="DECIMAL"/>
        <result  property="status" column="status" javaType="com.jvv.gateway.facade.constants.enums.GatewayStatusEnum" jdbcType="VARCHAR" typeHandler="com.jvv.gateway.dal.handlers.GatewayStatusEnumTypeHandler"/>
        <result  property="transDate" column="trans_date" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result  property="resultCode" column="result_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result  property="resultMessage" column="result_message" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result  property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result  property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="telephoneBillPrepaidDO_Columns">
        telephoneBillPrepaid.id,
        telephoneBillPrepaid.order_no,
        telephoneBillPrepaid.channel_api,
        telephoneBillPrepaid.phone_no,
        telephoneBillPrepaid.currency,
        telephoneBillPrepaid.amount,
        telephoneBillPrepaid.status,
        telephoneBillPrepaid.trans_date,
        telephoneBillPrepaid.result_code,
        telephoneBillPrepaid.result_message,
        telephoneBillPrepaid.raw_add_time,
        telephoneBillPrepaid.raw_update_time
    </sql>
    <!-- ============================================= -->
    <!-- mapped statements for TelephoneBillPrepaidMapper -->
    <!-- ============================================= -->

    <!-- mapped statement for TelephoneBillPrepaidMapper.insert -->
    <insert id="insert">
        <selectKey order="AFTER" resultType="java.lang.Long" keyProperty="telephoneBillPrepaid.id">
            SELECT LAST_INSERT_ID() 
        </selectKey>
        INSERT INTO telephone_bill_prepaid
        (
            order_no,
            channel_api,
            phone_no,
            currency,
            amount,
            status,
            trans_date,
            result_code,
            result_message,
            raw_add_time,
            raw_update_time
        )VALUES(
            #{telephoneBillPrepaid.orderNo,jdbcType=VARCHAR},
            #{telephoneBillPrepaid.channelApi,jdbcType=VARCHAR},
            #{telephoneBillPrepaid.phoneNo,jdbcType=VARCHAR},
            #{telephoneBillPrepaid.currency,jdbcType=VARCHAR},
            #{telephoneBillPrepaid.amount,jdbcType=DECIMAL,javaType=java.lang.Long},
            #{telephoneBillPrepaid.status,jdbcType=VARCHAR,javaType=com.jvv.gateway.facade.constants.enums.GatewayStatusEnum,typeHandler=com.jvv.gateway.dal.handlers.GatewayStatusEnumTypeHandler},
            #{telephoneBillPrepaid.transDate,jdbcType=TIMESTAMP,javaType=java.util.Date},
            #{telephoneBillPrepaid.resultCode,jdbcType=VARCHAR},
            #{telephoneBillPrepaid.resultMessage,jdbcType=VARCHAR},
            SYSDATE(),
            SYSDATE()
        )
    </insert>


    <!-- mapped statement for TelephoneBillPrepaidMapper.query -->
    <select id="query" resultMap="telephoneBillPrepaidDO">
                        SELECT 
                    <include refid="telephoneBillPrepaidDO_Columns"/>
                FROM telephone_bill_prepaid telephoneBillPrepaid
                <where>
                    <if test="telephoneBillPrepaid.orderNo!=null  and telephoneBillPrepaid.orderNo!='' " >
                        AND order_no = #{telephoneBillPrepaid.orderNo,jdbcType=VARCHAR} 
                    </if>
                    <if test="telephoneBillPrepaid.channelApi!=null  and telephoneBillPrepaid.channelApi!='' " >
                        AND channel_api = #{telephoneBillPrepaid.channelApi,jdbcType=VARCHAR} 
                    </if>
                    <if test="telephoneBillPrepaid.phoneNo!=null  and telephoneBillPrepaid.phoneNo!='' " >
                        AND phone_no = #{telephoneBillPrepaid.phoneNo,jdbcType=VARCHAR} 
                    </if>
                    <if test="telephoneBillPrepaid.currency!=null  and telephoneBillPrepaid.currency!='' " >
                        AND currency = #{telephoneBillPrepaid.currency,jdbcType=VARCHAR} 
                    </if>
                    <if test="telephoneBillPrepaid.amount!=null " >
                        AND amount = #{telephoneBillPrepaid.amount,jdbcType=DECIMAL,javaType=java.lang.Long} 
                    </if>
                    <if test="telephoneBillPrepaid.status!=null " >
                        AND status = #{telephoneBillPrepaid.status,jdbcType=VARCHAR,javaType=com.jvv.gateway.facade.constants.enums.GatewayStatusEnum,typeHandler=com.jvv.gateway.dal.handlers.GatewayStatusEnumTypeHandler} 
                    </if>
                    <if test="telephoneBillPrepaid.transDate!=null " >
                        AND trans_date = #{telephoneBillPrepaid.transDate,jdbcType=TIMESTAMP,javaType=java.util.Date} 
                    </if>
                    <if test="telephoneBillPrepaid.resultCode!=null  and telephoneBillPrepaid.resultCode!='' " >
                        AND result_code = #{telephoneBillPrepaid.resultCode,jdbcType=VARCHAR} 
                    </if>
                    <if test="telephoneBillPrepaid.resultMessage!=null  and telephoneBillPrepaid.resultMessage!='' " >
                        AND result_message = #{telephoneBillPrepaid.resultMessage,jdbcType=VARCHAR} 
                    </if>
                </where>
                ORDER BY id DESC 
        LIMIT #{start},#{pageSize}
    </select>
            
    <!-- mapped statement for TelephoneBillPrepaidMapper.queryCount -->
    <select id="queryCount" resultType="long">
        SELECT COUNT(id) 
        FROM telephone_bill_prepaid telephoneBillPrepaid
        <where>
            <if test="telephoneBillPrepaid.orderNo!=null  and telephoneBillPrepaid.orderNo!='' " >
                AND order_no = #{telephoneBillPrepaid.orderNo,jdbcType=VARCHAR} 
            </if>
            <if test="telephoneBillPrepaid.channelApi!=null  and telephoneBillPrepaid.channelApi!='' " >
                AND channel_api = #{telephoneBillPrepaid.channelApi,jdbcType=VARCHAR} 
            </if>
            <if test="telephoneBillPrepaid.phoneNo!=null  and telephoneBillPrepaid.phoneNo!='' " >
                AND phone_no = #{telephoneBillPrepaid.phoneNo,jdbcType=VARCHAR} 
            </if>
            <if test="telephoneBillPrepaid.currency!=null  and telephoneBillPrepaid.currency!='' " >
                AND currency = #{telephoneBillPrepaid.currency,jdbcType=VARCHAR} 
            </if>
            <if test="telephoneBillPrepaid.amount!=null " >
                AND amount = #{telephoneBillPrepaid.amount,jdbcType=DECIMAL,javaType=java.lang.Long} 
            </if>
            <if test="telephoneBillPrepaid.status!=null " >
                AND status = #{telephoneBillPrepaid.status,jdbcType=VARCHAR,javaType=com.jvv.gateway.facade.constants.enums.GatewayStatusEnum,typeHandler=com.jvv.gateway.dal.handlers.GatewayStatusEnumTypeHandler} 
            </if>
            <if test="telephoneBillPrepaid.transDate!=null " >
                AND trans_date = #{telephoneBillPrepaid.transDate,jdbcType=TIMESTAMP,javaType=java.util.Date} 
            </if>
            <if test="telephoneBillPrepaid.resultCode!=null  and telephoneBillPrepaid.resultCode!='' " >
                AND result_code = #{telephoneBillPrepaid.resultCode,jdbcType=VARCHAR} 
            </if>
            <if test="telephoneBillPrepaid.resultMessage!=null  and telephoneBillPrepaid.resultMessage!='' " >
                AND result_message = #{telephoneBillPrepaid.resultMessage,jdbcType=VARCHAR} 
            </if>
        </where>

    </select>
            
    <!-- mapped statement for TelephoneBillPrepaidMapper.update -->
    <update id="update">
        UPDATE telephone_bill_prepaid
        <set>
            raw_update_time = CURRENT_TIMESTAMP(),
            <if test="telephoneBillPrepaid.orderNo!=null  and telephoneBillPrepaid.orderNo!='' " >
                order_no = #{telephoneBillPrepaid.orderNo,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.channelApi!=null  and telephoneBillPrepaid.channelApi!='' " >
                channel_api = #{telephoneBillPrepaid.channelApi,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.phoneNo!=null  and telephoneBillPrepaid.phoneNo!='' " >
                phone_no = #{telephoneBillPrepaid.phoneNo,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.currency!=null  and telephoneBillPrepaid.currency!='' " >
                currency = #{telephoneBillPrepaid.currency,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.amount!=null " >
                amount = #{telephoneBillPrepaid.amount,jdbcType=DECIMAL,javaType=java.lang.Long} ,
            </if>
            <if test="telephoneBillPrepaid.status!=null " >
                status = #{telephoneBillPrepaid.status,jdbcType=VARCHAR,javaType=com.jvv.gateway.facade.constants.enums.GatewayStatusEnum,typeHandler=com.jvv.gateway.dal.handlers.GatewayStatusEnumTypeHandler} ,
            </if>
            <if test="telephoneBillPrepaid.transDate!=null " >
                trans_date = #{telephoneBillPrepaid.transDate,jdbcType=TIMESTAMP,javaType=java.util.Date} ,
            </if>
            <if test="telephoneBillPrepaid.resultCode!=null  and telephoneBillPrepaid.resultCode!='' " >
                result_code = #{telephoneBillPrepaid.resultCode,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.resultMessage!=null  and telephoneBillPrepaid.resultMessage!='' " >
                result_message = #{telephoneBillPrepaid.resultMessage,jdbcType=VARCHAR} ,
            </if>
        </set>
        WHERE 
            id = #{telephoneBillPrepaid.id,jdbcType=INTEGER,javaType=java.lang.Long}

    </update>

    <!-- mapped statement for TelephoneBillPrepaidMapper.delete -->
    <delete id="delete">
        <![CDATA[
        delete from telephone_bill_prepaid where (id = #{id, jdbcType=INTEGER})
        ]]>
    </delete>

    <!-- mapped statement for TelephoneBillPrepaidMapper.findByOrderNo -->
    <select id="findByOrderNo" resultMap="telephoneBillPrepaidDO">
        SELECT 
        <include refid="telephoneBillPrepaidDO_Columns"/>
        FROM telephone_bill_prepaid telephoneBillPrepaid
        WHERE 
            order_no = #{orderNo,jdbcType=VARCHAR}

    </select>
            
    <!-- mapped statement for TelephoneBillPrepaidMapper.updateByOrderNo -->
    <update id="updateByOrderNo">
        UPDATE telephone_bill_prepaid
        <set>
            <if test="telephoneBillPrepaid.channelApi!=null  and telephoneBillPrepaid.channelApi!='' " >
                channel_api = #{telephoneBillPrepaid.channelApi,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.phoneNo!=null  and telephoneBillPrepaid.phoneNo!='' " >
                phone_no = #{telephoneBillPrepaid.phoneNo,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.currency!=null  and telephoneBillPrepaid.currency!='' " >
                currency = #{telephoneBillPrepaid.currency,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.amount!=null " >
                amount = #{telephoneBillPrepaid.amount,jdbcType=DECIMAL,javaType=java.lang.Long} ,
            </if>
            <if test="telephoneBillPrepaid.status!=null " >
                status = #{telephoneBillPrepaid.status,jdbcType=VARCHAR,javaType=com.jvv.gateway.facade.constants.enums.GatewayStatusEnum,typeHandler=com.jvv.gateway.dal.handlers.GatewayStatusEnumTypeHandler} ,
            </if>
            <if test="telephoneBillPrepaid.transDate!=null " >
                trans_date = #{telephoneBillPrepaid.transDate,jdbcType=TIMESTAMP,javaType=java.util.Date} ,
            </if>
            <if test="telephoneBillPrepaid.resultCode!=null  and telephoneBillPrepaid.resultCode!='' " >
                result_code = #{telephoneBillPrepaid.resultCode,jdbcType=VARCHAR} ,
            </if>
            <if test="telephoneBillPrepaid.resultMessage!=null  and telephoneBillPrepaid.resultMessage!='' " >
                result_message = #{telephoneBillPrepaid.resultMessage,jdbcType=VARCHAR} ,
            </if>
        </set>
        WHERE 
            order_no = #{telephoneBillPrepaid.orderNo,jdbcType=VARCHAR}

    </update>

    <!-- mapped statement for TelephoneBillPrepaidMapper.deleteByOrderNo -->
    <delete id="deleteByOrderNo">
        <![CDATA[
        delete from telephone_bill_prepaid where (order_no = #{orderNo, jdbcType=VARCHAR})
        ]]>
    </delete>

    <!-- mapped statement for TelephoneBillPrepaidMapper.findByOrderNoIn -->
    <select id="findByOrderNoIn" resultMap="telephoneBillPrepaidDO">
        SELECT 
        <include refid="telephoneBillPrepaidDO_Columns"/>
        FROM telephone_bill_prepaid telephoneBillPrepaid
        WHERE 
            order_no IN 
             <foreach collection="orderNoList" item="item"  open="(" separator="," close=")"> 
                 #{item} 
             </foreach> 

    </select>
            
    <!-- mapped statement for TelephoneBillPrepaidMapper.findById -->
    <select id="findById" resultMap="telephoneBillPrepaidDO">
        SELECT 
        <include refid="telephoneBillPrepaidDO_Columns"/>
        FROM telephone_bill_prepaid telephoneBillPrepaid
        WHERE 
            id = #{id,jdbcType=INTEGER,javaType=java.lang.Long}

    </select>
            
    <!-- mapped statement for TelephoneBillPrepaidMapper.findByIdIn -->
    <select id="findByIdIn" resultMap="telephoneBillPrepaidDO">
        SELECT 
        <include refid="telephoneBillPrepaidDO_Columns"/>
        FROM telephone_bill_prepaid telephoneBillPrepaid
        WHERE 
            id IN 
             <foreach collection="idList" item="item"  open="(" separator="," close=")"> 
                 #{item} 
             </foreach> 

    </select>
            
</mapper>
